<html>
  <head>
    <title>KEY, ON KEY Statements (Event Trapping)</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  </head>
  <body>
    <pre class="help-content">  <i>◄</i><a href="T0002.html">Contents</a><i>►</i>  <i>◄</i><a href="T00B6.html">Index</a><i>►</i>  <i>◄</i><a href="?!B">Back</a><i>►</i>
──────────────────────────────────────────────────────────────────────────────
KEY enables, disables, or suspends event trapping of a key.
If event trapping is enabled, ON KEY branches to a subroutine whenever
the key is pressed.

<b>KEY(n%) ON</b>
<b>KEY(n%) OFF</b>
<b>KEY(n%) STOP</b>
<b>ON KEY(n%) GOSUB line</b>

    ■ <b>n%</b>              A value that specifies a function key, direction key,
                      or user-defined key:

                      n%        Key
                      ══════    ════════════════════════════════════════════
                      0         All keys listed here (KEY(0) ON, KEY(0) OFF,
                                and KEY(0) STOP only).
                      1-10      Function keys F1-F10.
                      11        Up Arrow key.
                      12        Left Arrow key.
                      13        Right Arrow key.
                      14        Down Arrow key.
                      15-25     User-defined keys. For more information,
                                see <i>◄</i><a href="T0071.html">Declaring User-Defined Keys</a><i>►</i>.
                      30, 31    Function keys F11 and F12.

    ■ <b>KEY(n%) ON</b>      Enables event trapping for the specified key.
    ■ <b>KEY(n%) OFF</b>     Disables key event trapping.
    ■ <b>KEY(n%) STOP</b>    Suspends key event trapping. Events are processed
                      once event trapping is enabled by KEY ON.
    ■ <b>line</b>            The label or number of the first line of the
                      event-trapping subroutine.

Example:
    &apos;This example requires Caps Lock and Num Lock to be off.
    CONST ESC = 27
    KEY 15, CHR$(&amp;H4) + CHR$(&amp;H1F)              &apos;Set up Ctrl+S as KEY 15.
    ON KEY(15) GOSUB PauseHandler
    KEY(15) ON
    WHILE INKEY$ &lt;&gt; CHR$(ESC)
        PRINT &quot;Press Esc to stop, Ctrl+S to pause.&quot;
        PRINT
    WEND
    END

    PauseHandler:
        SLEEP 1
        RETURN

See Also    <i>◄</i><a href="T0038.html">KEY (Assignment)</a><i>►</i>    <i>◄</i><a href="T0071.html">Declaring User-Defined Keys</a><i>►</i></pre>
  </body>
</html>
